{
  "version": 3,
  "sources": ["../src/polyfills.js", "../node_modules/@webqit/util/js/isObject.js", "../node_modules/@webqit/util/js/isArray.js", "../node_modules/@webqit/util/js/isTypeFunction.js", "../node_modules/@webqit/util/js/isNull.js", "../node_modules/@webqit/util/js/isUndefined.js", "../node_modules/@webqit/util/js/isTypeObject.js", "../node_modules/@webqit/util/js/isEmpty.js", "../node_modules/@webqit/util/js/isFunction.js", "../node_modules/@webqit/util/js/isNumber.js", "../node_modules/@webqit/util/js/isNumeric.js", "../node_modules/@webqit/util/js/isString.js", "../node_modules/@webqit/util/js/isTypeArray.js", "../node_modules/@webqit/util/arr/pushUnique.js", "../node_modules/@webqit/util/obj/getPrototypeChain.js", "../node_modules/@webqit/util/obj/getAllPropertyNames.js", "../node_modules/@webqit/util/obj/mergeCallback.js", "../node_modules/@webqit/util/obj/merge.js", "../node_modules/@webqit/util/arr/from.js", "../src/Mutations.js", "../src/Reflow.js", "../node_modules/@webqit/util/obj/get.js", "../node_modules/@webqit/util/obj/set.js", "../src/Query.js", "../src/index.js", "../src/browser-entry.js"],
  "sourcesContent": ["\r\n/**\r\n * Applies all supported polyfills\r\n */\r\nexport default function() {\r\n    CSS_escape.call( this );\r\n    Node_isConnected.call( this );\r\n    Element_matches.call( this );\r\n}\r\n\r\n/**\r\n * Polyfills the window.CSS object.\r\n *  \r\n * @return void\r\n */\r\nexport function CSS_escape() {\r\n    const window = this;\r\n    if ( !window.CSS ) { window.CSS = {} }\r\n    if ( !window.CSS.escape ) {\r\n        /**\r\n         * Polyfills the window.CSS.escape() function.\r\n         *  \r\n         * @param string str \r\n         * \r\n         * @return string\r\n         */\r\n        window.CSS.escape = str => str.replace( /([\\:@\\~\\$\\&])/g, '\\\\$1' );\r\n    }\r\n}\r\n\r\n/**\r\n * Polyfills the Node.prototype.isConnected property\r\n * \r\n * @see MDN\r\n  *  \r\n * @return bool\r\n*/\r\nexport function Node_isConnected() {\r\n    const window = this;\r\n    if ( !( 'isConnected' in window.Node.prototype ) ) {\r\n        Object.defineProperty( window.Node.prototype, 'isConnected', { get: function() {\r\n            return !this.ownerDocument || !(\r\n                this.ownerDocument.compareDocumentPosition( this )\r\n                & this.DOCUMENT_POSITION_DISCONNECTED);\r\n        } } );\r\n    }\r\n}\r\n\r\n/**\r\n * Polyfills the Element.prototype.matches() method\r\n * \r\n * @see MDN\r\n  *  \r\n * @return void\r\n*/\r\nexport function Element_matches() {\r\n    const window = this;\r\n    if ( !window.Element.prototype.matches ) {\r\n        window.Element.prototype.matches = \r\n        window.Element.prototype.matchesSelector || \r\n        window.Element.prototype.mozMatchesSelector ||\r\n        window.Element.prototype.msMatchesSelector || \r\n        window.Element.prototype.oMatchesSelector || \r\n        window.Element.prototype.webkitMatchesSelector ||\r\n        function( s ) {\r\n            var matches = ( this.document || this.ownerDocument ).querySelectorAll( s ),\r\n                i = matches.length;\r\n            while ( --i >= 0 && matches.item( i ) !== this ) {}\r\n            return i > -1;            \r\n        }\r\n    }\r\n}", "\n/**\n * Tells if val is pure object.\n *\n * @param object\t \tval\n *\n * @return bool\n */\nexport default function(val) {\n\treturn !Array.isArray(val) && typeof val === 'object' && val;\n};\n", "\n/**\n * Tells if val is of type \"array\".\n *\n * @param object\t \tval\n *\n * @return bool\n */\nexport default function(val) {\n\treturn Array.isArray(val);\n};\n", "\n/**\n * Tells if val is of type \"function\".\n * This holds true for both regular functions and classes.\n *\n * @param object\t \tval\n *\n * @return bool\n */\nexport default function(val) {\n\treturn typeof val === 'function';\n};\n", "\n/**\n * Tells if val is undefined or is null.\n *\n * @param string \tval\n *\n * @return bool\n */\nexport default function(val) {\n\treturn val === null || val === '';\n};\n", "\n/**\n * Tells if val is undefined or is of type \"undefined\".\n *\n * @param string \tval\n *\n * @return bool\n */\nexport default function(val) {\n\treturn arguments.length && (val === undefined || typeof val === 'undefined');\n};\n", "\n/**\n * @imports\n */\nimport _isTypeFunction from './isTypeFunction.js';\n\n/**\n * Tells if val is of type \"object\".\n * This holds true for anything object, including built-ins.\n *\n * @param object\t \tval\n *\n * @return bool\n */\nexport default function(val) {\n\treturn Array.isArray(val) || (typeof val === 'object' && val) || _isTypeFunction(val);\n};\n", "\n/**\n * @imports\n */\nimport _isNull from './isNull.js';\nimport _isUndefined from './isUndefined.js';\nimport _isTypeObject from './isTypeObject.js';\n\n/**\n * Tells if val is empty in its own type.\n * This holds true for NULLs, UNDEFINED, FALSE, 0,\n * objects without keys, empty arrays.\n *\n * @param string \tval\n *\n * @return bool\n */\nexport default function(val) {\n\treturn _isNull(val) || _isUndefined(val) || val === false || val === 0 \n\t\t|| (_isTypeObject(val) && !Object.keys(val).length);\n};\n", "\n/**\n * @imports\n */\nimport _isTypeFunction from './isTypeFunction.js';\n\n/**\n * Tells if val is of type \"function\".\n *\n * @param object \t\tval\n *\n * @return bool\n */\nexport default function(val) {\n\treturn _isTypeFunction(val) || (val && {}.toString.call(val) === '[object function]');\n};\n", "\n/**\n * Tells if val is of type \"number\".\n *\n * @param string \tval\n *\n * @return bool\n */\nexport default function(val) {\n\treturn val instanceof Number || (typeof val === 'number');\n};\n", "\n/**\n * @imports\n */\nimport _isNumber from './isNumber.js';\n/**\n * Tells if val is of type \"string\" or a numeric string.\n * This holds true for both numbers and numeric strings.\n *\n * @param string \tval\n *\n * @return bool\n */\nexport default function(val) {\n\treturn _isNumber(val) || (val !== true && val !== false && val !== null && val !== '' && !isNaN(val * 1));\n};\n", "\n/**\n * Tells if val is of type \"string\".\n *\n * @param string \tval\n *\n * @return bool\n */\nexport default function(val) {\n\treturn val instanceof String || (typeof val === 'string' && val !== null);\n};\n", "\n/**\n * @imports\n */\nimport _isString from './isString.js';\nimport _isUndefined from './isUndefined.js';\n\n/**\n * Tells if val is \"array-like\".\n * This holds true for anything that has a length property.\n *\n * @param object\t \tval\n *\n * @return bool\n */\nexport default function(val) {\n\treturn !_isString(val) && !_isUndefined(val.length);\n};\n", "\n/**\n * Adds an item if not already exist.\n *\n * @param array \tarr\n * @param array\t \t...itms\n *\n * @return array\n */\nexport default function(arr, ...items) {\n\titems.forEach(itm => {\n\t\tif (arr.indexOf(itm) < 0) {\n\t\t\tarr.push(itm);\n\t\t}\n\t});\n\treturn arr;\n};\n", "\n/**\n * @imports\n */\nimport _isArray from '../js/isArray.js';\n\n/**\n * Returns the prototype chain.\n *\n * @param object \t\tobj\n * @param object\t \tuntil\n *\n * @return bool\n */\nexport default function(obj, until) {\n\tuntil = until || Object.prototype;\n\tuntil = until && !_isArray(until) ? [until] : until;\n\t// We get the chain of inheritance\n\tvar prototypalChain = [];\n\tvar obj = obj;\n\twhile((obj && (!until || until.indexOf(obj) < 0) && obj.name !== 'default')) {\n\t\tprototypalChain.push(obj);\n\t\tobj = obj ? Object.getPrototypeOf(obj) : null;\n\t}\n\treturn prototypalChain;\n};\n", "\n/**\n * @imports\n */\nimport _pushUnique from '../arr/pushUnique.js';\nimport _getPrototypeChain from './getPrototypeChain.js';\n\n/**\n * Eagerly retrieves object members all down the prototype chain.\n *\n * @param object\t \tobj\n * @param object\t \tuntil\n *\n * @return array\n */\nexport default function(obj, until) {\n\tvar keysAll = [];\n\t_getPrototypeChain(obj, until).forEach(obj => {\n\t\t_pushUnique(keysAll, ...Object.getOwnPropertyNames(obj));\n\t});\n\treturn keysAll;\n};\n", "\n/**\n * @imports\n */\nimport _isArray from '../js/isArray.js';\nimport _isFunction from '../js/isFunction.js';\nimport _isObject from '../js/isObject.js';\nimport _isTypeObject from '../js/isTypeObject.js';\nimport _isNumeric from '../js/isNumeric.js';\nimport _getAllPropertyNames from './getAllPropertyNames.js';\n\n/**\n  * Merges values from subsequent arrays/objects first array/object;\n  * optionally recursive\n  *\n  * @param array ...objs\n  *\n  * @return void\n  */\nexport default function mergeCallback(objs, callback, deepProps = false, isReplace = false, withSymbols = false) {\n\tvar depth = 0;\n\tvar obj1 = objs.shift();\n\tif (_isNumeric(obj1) || obj1 === true || obj1 === false) {\n\t\tdepth = obj1;\n\t\tobj1 = objs.shift();\n\t}\n\tif (!objs.length) {\n\t\tthrow new Error('_merge() requires two or more array/objects.');\n\t}\n\tobjs.forEach((obj2, i) => {\n\t\tif (!_isTypeObject(obj2) && !_isFunction(obj2)) {\n\t\t\treturn;\n\t\t}\n\t\t(deepProps ? _getAllPropertyNames(obj2) : Object.keys(obj2)).forEach(key => {\n\t\t\tif (!callback(key, obj1, obj2, i)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar valAtObj1 = obj1[key];\n\t\t\tvar valAtObj2 = obj2[key];\n\t\t\tif (((_isArray(valAtObj1) && _isArray(valAtObj2)) || (_isObject(valAtObj1) && _isObject(valAtObj2))) \n\t\t\t&& (depth === true || depth > 0)) {\n\t\t\t\t// RECURSE...\n\t\t\t\tobj1[key] = _isArray(valAtObj1) && _isArray(valAtObj2) ? [] : {};\n\t\t\t\tmergeCallback([_isNumeric(depth) ? depth - 1 : depth, obj1[key], valAtObj1, valAtObj2], callback, deepProps, isReplace, withSymbols);\n\t\t\t} else {\n\t\t\t\tif (_isArray(obj1) && _isArray(obj2)) {\n\t\t\t\t\tif (isReplace) {\n\t\t\t\t\t\tobj1[key] = valAtObj2;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tobj1.push(valAtObj2);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// In case we're setting a read-only property\n\t\t\t\t\ttry {\n\t\t\t\t\t\tif (withSymbols) {\n\t\t\t\t\t\t\tObject.defineProperty(obj1, key, Object.getOwnPropertyDescriptor(obj2, key));\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tobj1[key] = obj2[key];\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch(e) {}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t});\n\treturn obj1;\n};\n", "\n/**\n * @imports\n */\nimport _mergeCallback from './mergeCallback.js';\n\n/**\n  * Merges values from subsequent arrays/objects first array/object;\n  * optionally recursive\n  *\n  * @param array ...objs\n  *\n  * @return void\n  */\nexport default function(...objs) {\n\treturn _mergeCallback(objs, (k, obj1, obj2) => {\n\t\treturn true;\n\t}, false/*deepProps*/, false/*isReplace*/, false/*withSymbols*/);\n};\n", "\n/**\n * @imports\n */\nimport _isArray from '../js/isArray.js';\nimport _isTypeArray from '../js/isTypeArray.js';\nimport _isEmpty from '../js/isEmpty.js';\nimport _isObject from '../js/isObject.js';\n\n/**\n * Casts an array-like object to an array.\n *\n * @param mixed \tval\n * @param bool\t \tcastObject\n *\n * @return array\n */\nexport default function(val, castObject = true) {\n\tif (_isArray(val)) {\n\t\treturn val;\n\t};\n\tif (!castObject && _isObject(val)) {\n\t\treturn [val];\n\t};\n\tif (val !== false && val !== 0 && _isEmpty(val)) {\n\t\treturn [];\n\t};\n\tif (_isTypeArray(val)) {\n\t\treturn Array.prototype.slice.call(val);\n\t};\n\tif (_isObject(val)) {\n\t\treturn Object.values(val);\n\t};\n\treturn [val];\n};\n", "\r\n/**\r\n * @imports\r\n */\r\nimport { _isFunction, _isString, _isObject } from '@webqit/util/js/index.js';\r\nimport { _from as _arrFrom } from '@webqit/util/arr/index.js';\r\n\r\n/**\r\n * ---------------------\r\n * Ctxt Mutations Utilities\r\n * ---------------------\r\n */\r\n\r\n/**\r\n *\r\n * @var Map\r\n */\r\nconst MutationInterceptorsCache = [ new Map, new Map, ];\r\nMutationInterceptorsCache.hasListeners = () => MutationInterceptorsCache.some( x => x.size );\r\nexport default class Mutations {\r\n\r\n\t/**\r\n\t *\r\n\t * @return this\r\n\t */\r\n\tconstructor(window) {\r\n\t\tthis.window = window;\r\n\t}\r\n\r\n\t/**\r\n\t * Observes changes in attributes of the given element.\r\n\t *\r\n\t * @param Element\t\t\t\t\tcontext\r\n\t * @param array\t\t\t\t\t\tfilter\r\n\t * @param function\t\t\t\t\tcallback\r\n\t *\r\n\t * @return MutationObserver\r\n\t */\r\n\tattr( context, filter, callback ) {\r\n\t\t[ context, filter, callback ] = resolveArgs( arguments );\r\n\t\tconst mo = new this.window.MutationObserver( records => {\r\n\t\t\trecords.forEach( record => callback( record, context ) );\r\n\t\t} );\r\n\t\tconst params = { attributes: true, attributeOldValue: true };\r\n\t\tif ( filter.length ) {\r\n\t\t\tparams.attributeFilter = filter;\r\n\t\t}\r\n\t\tmo.observe( context, params );\r\n\t\treturn mo;\r\n\t}\r\n\t\r\n\t/**\r\n\t * Mutation matching\r\n\t *\r\n\t * @param document|Element\t\t\tcallback\r\n\t * @param array|Element|string\t\tselectors\r\n\t * @param function\t\t\t\t\tcallback\r\n\t * @param object\t\t\t\t\tparams\r\n\t *\r\n\t * @return void\r\n\t */\r\n\tmatch( context, selectors, callback, params = {} ) {\r\n\t\t[ context, selectors, callback, params = {} ] = resolveArgs( arguments );\r\n\t\t// ------------------\r\n\t\tconst records = new Set, getRecord = target => {\r\n\t\t\tif ( !records.has( target ) ) {\r\n\t\t\t\trecords.set( target, {\r\n\t\t\t\t\ttarget, \r\n\t\t\t\t\taddedNodes: [], \r\n\t\t\t\t\tremovedNodes: [],\r\n\t\t\t\t} );\r\n\t\t\t}\r\n\t\t\treturn records.get( target );\r\n\t\t};\r\n\t\t// ------------------\r\n\t\tif ( selectors.every( selector => _isString( selector ) ) && ( selectors = selectors.join( ',' ) ) ) {\r\n\t\t\tif ( params.on !== 'disconnected' ) {\r\n\t\t\t\t( params.subtree ? context.querySelectorAll( selectors ) : context.children || [] ).forEach( node => {\r\n\t\t\t\t\tgetRecord( node.parentNode ).addedNodes.push( node );\r\n\t\t\t\t} );\r\n\t\t\t}\r\n\t\t} else if ( selectors.every( selector => _isObject( selector ) ) ) {\r\n\t\t\tif ( context !== document || params.subtree ) {\r\n\t\t\t\tselectors.forEach( node => {\r\n\t\t\t\t\tconst isConnected = context === document ? node.isConnected : (\r\n\t\t\t\t\t\tnode.parentNode === context || ( params.subtree && context.contains( node ) )\r\n\t\t\t\t\t);\r\n\t\t\t\t\tif ( ( params.on === 'connected' && !isConnected ) || ( params.on === 'disconnected' && isConnected ) ) return;\r\n\t\t\t\t\tgetRecord( node.parentNode )[ isConnected ? 'addedNodes' : 'removedNodes' ].push( node );\r\n\t\t\t\t} );\r\n\t\t\t}\r\n\t\t}\r\n\t\t// ------------------\r\n\t\trecords.forEach( record => callback( record, context ) );\r\n\t\t// ------------------\r\n\t\treturn this.observe( ...arguments );\r\n\t}\r\n\r\n\t/**\r\n\t * Mutation Observer\r\n\t * \r\n\t * @param document|Element\t\t\tcallback\r\n\t * @param array|Element|string\t\tselectors\r\n\t * @param function\t\t\t\t\tcallback\r\n\t * @param object\t\t\t\t\tparams\r\n\t * \r\n\t * @returns Object\r\n\t */\r\n\tobserve( context,  selectors, callback, params = {} ) {\r\n\t\t[ context, selectors, callback, params = {} ] = resolveArgs( arguments );\r\n\t\tconst mo = new this.window.MutationObserver( records => {\r\n\t\t\trecords.forEach( ( { target, addedNodes, removedNodes } ) => {\r\n\t\t\t\temit.call( this, context, {\r\n\t\t\t\t\ttarget,\r\n\t\t\t\t\taddedNodes,\r\n\t\t\t\t\tremovedNodes,\r\n\t\t\t\t\ttype: 'mutation-observer',\r\n\t\t\t\t}/*!important*/, {\r\n\t\t\t\t\tselectors,\r\n\t\t\t\t\tcallback,\r\n\t\t\t\t\tparams,\r\n\t\t\t\t} );\r\n\t\t\t} );\r\n\t\t} );\r\n\t\tconst connect = () => mo.observe( context, { childList: true, subtree: params.subtree, } );\r\n\t\tconnect();\r\n\t\t// -------------\r\n\t\tconst controller = {\r\n\t\t\tdisconnect() {\r\n\t\t\t\tmo.disconnect();\r\n\t\t\t\treturn {\r\n\t\t\t\t\treconnect() {\r\n\t\t\t\t\t\tconnect();\r\n\t\t\t\t\t\treturn controller;\r\n\t\t\t\t\t},\r\n\t\t\t\t};\r\n\t\t\t},\r\n\t\t};\r\n\t\treturn controller;\r\n\t}\r\n\t\r\n\t/**\r\n\t * Mutation Interceptor\r\n\t * \r\n\t * @param document|Element\t\t\tcallback\r\n\t * @param array|Element|string\t\tselectors\r\n\t * @param function\t\t\t\t\tcallback\r\n\t * @param object\t\t\t\t\tparams\r\n\t * \r\n\t * @returns Object\r\n\t */\r\n\tintercept( context, selectors, callback, params = {} ) {\r\n\t\t[ context, selectors, callback, params = {} ] = resolveArgs( arguments );\r\n\t\t// -------------\r\n\t\tif ( !MutationInterceptorsCache.intercepting ) {\r\n\t\t\tconsole.warn( `DOM mutation APIs are now being intercepted.` )\r\n\t\t\tMutationInterceptorsCache.intercepting = true;\r\n\t\t\tconst { document, Element } = this.window;\r\n\t\t\t// -----------\r\n\t\t\t// Interception handler\r\n\t\t\t// -----------\r\n\t\t\tconst intercept = record => {\r\n\t\t\t\tMutationInterceptorsCache.forEach( ( contexts, index ) => {\r\n\t\t\t\t\tcontexts.forEach( ( traps, context ) => {\r\n\t\t\t\t\t\tif ( !( record.target === context || ( index && ( context === document && record.target.isConnected || context.contains( record.target ) ) ) ) ) return;\r\n\t\t\t\t\t\ttraps.forEach( trap => {\r\n\t\t\t\t\t\t\tif ( record.type === 'mutation-observer' ) {\r\n\t\t\t\t\t\t\t\t// Mutation observers can already see every elements from HTML parse stream \r\n\t\t\t\t\t\t\t\ttrap = { ...trap, params: { ...trap.params, deepIntersect: false } };\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\trecord.incomingNodes.concat( record.outgoingNodes ).forEach( node => {\r\n\t\t\t\t\t\t\t\t\tnode.wqIntercepted = true;\r\n\t\t\t\t\t\t\t\t} );\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\temit.call( this, context, record, trap );\r\n\t\t\t\t\t\t} );\r\n\t\t\t\t\t} );\r\n\t\t\t\t} );\r\n\t\t\t};\r\n \t\t\t// -----------\r\n\t\t\t// Intercept DOM mutation methods\r\n\t\t\t// -----------\r\n\t\t\tconst originalApis = Object.create( null );\r\n\t\t\t// -----------\r\n            [\r\n\t\t\t\t'insertBefore'/*Node*/, 'insertAdjacentElement', 'insertAdjacentHTML', 'setHTML',\r\n\t\t\t\t'replaceChildren', 'replaceWith', 'remove', 'replaceChild'/*Node*/, 'removeChild'/*Node*/, \r\n\t\t\t\t'before', 'after', 'append', 'prepend', 'appendChild'/*Node*/, 'prependChild', \r\n\t\t\t].forEach( apiName => {\r\n\t\t\t\t// We'll be sure to monkey the correct interface\r\n\t\t\t\tconst Interface = [ 'insertBefore', 'replaceChild', 'removeChild', 'appendChild' ].includes( apiName ) ? Node : Element;\r\n                originalApis[ apiName ] = Interface.prototype[ apiName ];\r\n\t\t\t\t// In case newer methods like setHTML() are not supported\r\n\t\t\t\tif ( !originalApis[ apiName ] ) return;\r\n\t\t\t\t// Monkey now...\r\n                Interface.prototype[ apiName ] = function( ...args ) {\r\n\t\t\t\t\t// Instance of Node interface? Abort!\r\n\t\t\t\t\tconst exec = () => originalApis[ apiName ].call( this, ...args );\r\n\t\t\t\t\tif ( !( this instanceof Element ) ) return exec();\r\n\t\t\t\t\t// Bail out early\r\n\t\t\t\t\tif ( !MutationInterceptorsCache.hasListeners() ) return exec();\r\n\t\t\t\t\t// --------------\r\n\t\t\t\t\t// Obtain outgoingNodes and incomingNodes\r\n\t\t\t\t\tlet outgoingNodes = [], incomingNodes = [], target = this;\r\n\t\t\t\t\tif ( [ 'insertBefore' ].includes( apiName ) ) {\r\n\t\t\t\t\t\tincomingNodes = [ args[ 0 ] ];\r\n\t\t\t\t\t} else if ( [ 'insertAdjacentElement', 'insertAdjacentHTML' ].includes( apiName ) ) {\r\n\t\t\t\t\t\tincomingNodes = [ args[ 1 ] ];\r\n\t\t\t\t\t\tif ( [ 'beforebegin', 'afterend' ].includes( args[ 0 ] ) ) {\r\n\t\t\t\t\t\t\ttarget = this.parentNode;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else if ( [ 'setHTML', 'replaceChildren' ].includes( apiName ) ) {\r\n\t\t\t\t\t\toutgoingNodes = [ ...this.childNodes ];\r\n\t\t\t\t\t\tincomingNodes = apiName === 'replaceChildren' ? [ ...args ] : [ args[ 0 ] ];\r\n\t\t\t\t\t} else if ( [ 'replaceWith', 'remove' ].includes( apiName ) ) {\r\n\t\t\t\t\t\toutgoingNodes = [ this ];\r\n\t\t\t\t\t\tincomingNodes = apiName === 'replaceWith' ? [ ...args ] : [];\r\n\t\t\t\t\t\ttarget = this.parentNode;\r\n\t\t\t\t\t} else if ( ['replaceChild' ].includes( apiName ) ) {\r\n\t\t\t\t\t\toutgoingNodes = [ args[ 1 ] ];\r\n\t\t\t\t\t\tincomingNodes = [ args[ 0 ] ];\r\n\t\t\t\t\t} else if ( ['removeChild' ].includes( apiName ) ) {\r\n\t\t\t\t\t\toutgoingNodes = [ ...args ];\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// 'before', 'after', 'append', 'prepend', 'appendChild', 'prependChild'\r\n\t\t\t\t\t\tincomingNodes = [ ...args ];\r\n\t\t\t\t\t\tif ( [ 'before', 'after' ].includes( apiName ) ) {\r\n\t\t\t\t\t\t\ttarget = this.parentNode;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// --------------\r\n\t\t\t\t\t// Parse HTML to incomingNodes\r\n\t\t\t\t\tlet apiNameFinal = apiName;\r\n\t\t\t\t\tif ( [ 'insertAdjacentHTML', 'setHTML' ].includes( apiName ) ) {\r\n\t\t\t\t\t\tlet tempNodeName = this.nodeName;\r\n\t\t\t\t\t\tif ( apiName === 'insertAdjacentHTML' && [ 'beforebegin', 'afterend' ].includes( args[ 0 ] ) ) {\r\n\t\t\t\t\t\t\t// We can't handle this... and this is going to throw afterall\r\n\t\t\t\t\t\t\tif ( !this.parentNode ) return originalApis[ apiName ].call( this, ...args );\r\n\t\t\t\t\t\t\ttempNodeName = this.parentNode.nodeName;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tconst temp = document.createElement( tempNodeName );\r\n\t\t\t\t\t\toriginalApis.setHTML.call( temp, incomingNodes[ 0 ], apiName === 'setHTML' ? args[ 1 ] : {} );\r\n\t\t\t\t\t\tincomingNodes = [ ...temp.childNodes ];\r\n\t\t\t\t\t\t// --------------  \r\n\t\t\t\t\t\tif ( apiName === 'insertAdjacentHTML' ) {\r\n\t\t\t\t\t\t\tapiNameFinal = 'insertAdjacentElement';\r\n\t\t\t\t\t\t\targs[ 1 ] = new DocumentFragment;\r\n\t\t\t\t\t\t\targs[ 1 ].append( ...temp.childNodes );\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tapiNameFinal = 'replaceChildren';\r\n\t\t\t\t\t\t\targs = [ ...temp.childNodes ];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// --------------\r\n\t\t\t\t\tintercept( { target, incomingNodes, outgoingNodes, type: 'mutation-interception', event: [ this, apiName ] } );\r\n\t\t\t\t\t// --------------\r\n\t\t\t\t\treturn originalApis[ apiNameFinal ].call( this, ...args );\r\n                }\r\n            } );\r\n\t\t\t// -----------\r\n\t\t\t// Intercept DOM mutation properties\r\n\t\t\t// -----------\r\n\t\t\t[\r\n\t\t\t\t'outerHTML', 'outerText'/*HTMLElement*/, 'innerHTML', \r\n\t\t\t\t'innerText'/*HTMLElement*/,'textContent'/*Node*/, 'nodeValue'/*Node*/\r\n\t\t\t].forEach( apiName => {\r\n\t\t\t\t// We'll be sure to monkey the correct interface\r\n\t\t\t\tconst Interface = [ 'textContent', 'nodeValue' ].includes( apiName ) ? Node : (\r\n\t\t\t\t\t[ 'outerText', 'innerText' ].includes( apiName ) ? HTMLElement : Element\r\n\t\t\t\t);\r\n                originalApis[ apiName ] = Object.getOwnPropertyDescriptor( Interface.prototype, apiName );\r\n\t\t\t\tObject.defineProperty( Interface.prototype, apiName, { ...originalApis[ apiName ], set: function( value ) {\r\n\t\t\t\t\tlet exec = () => originalApis[ apiName ].set.call( this, value );\r\n\t\t\t\t\t// Instance of Node interface? Abort!\r\n\t\t\t\t\tif ( !( this instanceof Element ) ) return exec();\r\n\t\t\t\t\t// Bail out early\r\n\t\t\t\t\tif ( !MutationInterceptorsCache.hasListeners() ) return exec();\r\n\t\t\t\t\t// --------------\r\n\t\t\t\t\t// Obtain outgoingNodes and incomingNodes\r\n\t\t\t\t\tlet outgoingNodes = [], incomingNodes = [], target = this;\r\n\t\t\t\t\tif ( [ 'outerHTML', 'outerText' ].includes( apiName ) ) {\r\n\t\t\t\t\t\toutgoingNodes = [ this ];\r\n\t\t\t\t\t\ttarget = this.parentNode;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// 'innerHTML', 'innerText', 'textContent', 'nodeValue'\r\n\t\t\t\t\t\toutgoingNodes = [ ...this.childNodes ];\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// --------------\r\n\t\t\t\t\t// Parse HTML to nodes\r\n\t\t\t\t\tif ( [ 'outerHTML', 'innerHTML' ].includes( apiName ) ) {\r\n\t\t\t\t\t\tlet tempNodeName = this.nodeName;\r\n\t\t\t\t\t\tif ( apiName === 'outerHTML' ) {\r\n\t\t\t\t\t\t\t// We can't handle this... and this is going to throw afterall\r\n\t\t\t\t\t\t\tif ( !this.parentNode ) return exec();\r\n\t\t\t\t\t\t\ttempNodeName = this.parentNode.nodeName;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tconst temp = document.createElement( tempNodeName );\r\n\t\t\t\t\t\toriginalApis[ apiName ].set.call( temp, value );\r\n\t\t\t\t\t\tincomingNodes = [ ...temp.childNodes ];\r\n\t\t\t\t\t\t// -------------- \r\n\t\t\t\t\t\tif ( apiName === 'outerHTML' ) {\r\n\t\t\t\t\t\t\tvalue = new DocumentFragment;\r\n\t\t\t\t\t\t\tvalue.append( ...temp.childNodes );\r\n\t\t\t\t\t\t\texec = () => originalApis.replaceWith.call( this, value );\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\texec = () => originalApis.replaceChildren.call( this, ...temp.childNodes );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// -------------- \r\n\t\t\t\t\tintercept( { target, incomingNodes, outgoingNodes, type: 'mutation-interception', event: [ this, apiName ] } );\r\n\t\t\t\t\t// -------------- \r\n                    return exec();\r\n                } } );\r\n            } );\r\n\t\t\t// -----------\r\n\t\t\t// Intercept document mutation methods\r\n\t\t\t// -----------\r\n            [ 'append', 'prepend' ].forEach( apiName => {\r\n                const originalApi = document[ apiName ];\r\n                document[ apiName ] = function( ...args ) {\r\n\t\t\t\t\tintercept( {\r\n\t\t\t\t\t\ttarget: document,\r\n\t\t\t\t\t\tincomingNodes: args,\r\n\t\t\t\t\t\toutgoingNodes: [],\r\n\t\t\t\t\t\ttype: 'mutation-interception', \r\n\t\t\t\t\t\tevent: [ document, apiName ]\r\n\t\t\t\t\t} );\r\n                    return originalApi.call( this || document, ...args );\r\n                }\r\n            } );\r\n\t\t\t// -----------\r\n\t\t\t// If the document is still loading,\r\n\t\t\t// observe the ongoing document parser stream\r\n\t\t\t// -----------\r\n\t\t\tif ( document.readyState === 'loading' ) {\r\n\t\t\t\tconst controller = this.observe( document, ( { target, addedNodes, removedNodes, type, } ) => {\r\n\t\t\t\t\tintercept( {\r\n\t\t\t\t\t\ttarget,\r\n\t\t\t\t\t\tincomingNodes: addedNodes,\r\n\t\t\t\t\t\toutgoingNodes:removedNodes,\r\n\t\t\t\t\t\ttype,\r\n\t\t\t\t\t} );\r\n\t\t\t\t}, { subtree: true, filter: node => !node.wqIntercepted } );\r\n\t\t\t\tdocument.addEventListener( 'readystatechange', () => {\r\n\t\t\t\t\tcontroller.disconnect();\r\n\t\t\t\t} );\r\n\t\t\t}\r\n\t\t\t// -----------\r\n\t\t}\r\n\t\t// -------------\r\n\t\tconst contexts = MutationInterceptorsCache[ params.subtree ? 1 : 0 ];\r\n\t\tif ( !contexts.has( context ) ) { contexts.set( context, new Set ); }\r\n\t\t// -------------\r\n\t\tconst traps = contexts.get( context );\r\n\t\tconst trap = { selectors, callback, params, };\r\n\t\ttraps.add( trap );\r\n\t\t// -------------\r\n\t\tconst controller = {\r\n\t\t\tdisconnect() {\r\n\t\t\t\ttraps.delete( trap );\r\n\t\t\t\tif ( !traps.size ) { contexts.delete( context ); }\r\n\t\t\t\treturn {\r\n\t\t\t\t\treconnect() {\r\n\t\t\t\t\t\tif ( !traps.size ) {\r\n\t\t\t\t\t\t\treturn this.intercept( context, selectors, callback, params );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\ttraps.add( trap );\r\n\t\t\t\t\t\treturn controller;\r\n\t\t\t\t\t},\r\n\t\t\t\t};\r\n\t\t\t},\r\n\t\t};\r\n\t\t// -------------\r\n\t\treturn controller;\r\n\t}\r\n\r\n};\r\n\r\n/**\r\n * Resolves arguments\r\n * \r\n * @param Array \t\t\targs \r\n * \r\n * @returns Array\r\n */\r\nfunction resolveArgs( args ) {\r\n\tif ( _isFunction( args[ 1 ] ) ) {\r\n\t\targs = [ args[ 0 ], [], ...[ ...args ].slice( 1 ) ];\r\n\t} else {\r\n\t\targs[ 1 ] = _arrFrom( args[ 1 ], false/*castObject*/ );\r\n\t}\r\n\treturn args;\r\n}\r\n\r\n/**\r\n * Resolves arguments\r\n * \r\n * @param Document|Element \tcontext \r\n * @param Object \t\t\trecord \r\n * @param Object \t\t\ttrap \r\n * \r\n * @returns Array\r\n */\r\nfunction emit( context, record, trap ) {\r\n\tlet matches;\r\n\t[ 'addedNodes', 'incomingNodes', 'removedNodes', 'outgoingNodes' ].forEach( prop => {\r\n\t\tif ( !( prop in record ) ) return;\r\n\t\tconst isExit = [ 'removedNodes', 'outgoingNodes' ].includes( prop );\r\n\t\tif ( ( isExit && trap.params.on === 'connected' ) || ( !isExit && trap.params.on === 'disconnected' ) ) {\r\n\t\t\trecord[ prop ] = [];\r\n\t\t} else if ( !trap.selectors.length ) {\r\n\t\t\trecord[ prop ] = [ ...record[ prop ] ];\r\n\t\t\tmatches = true;\r\n\t\t} else if ( ( record[ prop ] = intersectNodes.call(\r\n\t\t\tthis,\r\n\t\t\ttrap.selectors,\r\n\t\t\trecord[ prop ],\r\n\t\t\ttrap.params.deepIntersect,\r\n\t\t\ttrap.params.filter\r\n\t\t) ).length ) {\r\n\t\t\tmatches = true;\r\n\t\t}\r\n\t} );\r\n\tif ( matches ) {\r\n\t\ttrap.callback( record, context );\r\n\t}\r\n}\r\n\r\n/**\r\n * Aggregates instances of els in sources\r\n * \r\n * @param Array \t\t\ttargets \r\n * @param Array \t\t\tsources \r\n * @param Bool \t\t\t\tdeepIntersect \r\n * @param Function \t\t\tfilter \r\n * \r\n * @returns \r\n */\r\nfunction intersectNodes( targets, sources, deepIntersect = true, filter = null ) {\r\n\tsources = Array.isArray( sources ) ? sources : [ ...sources ];\r\n\tconst match = ( sources, target ) => {\r\n\t\t// Filter out text nodes\r\n\t\tsources = sources.filter( source => source.matches );\r\n\t\tif ( _isString( target ) ) {\r\n\t\t\t// Is directly mutated...\r\n\t\t\tlet matches = sources.filter( source => source.matches( target ) && ( !filter || filter( source ) ) );\r\n\t\t\t// Is contextly mutated...\r\n\t\t\tif ( deepIntersect !== false ) {\r\n\t\t\t\tmatches = sources\r\n\t\t\t\t\t.reduce( ( collection, source ) => {\r\n\t\t\t\t\t\tlet result = source.querySelectorAll( target );\r\n\t\t\t\t\t\tif ( filter ) { result = Array.prototype.filter.call( result, filter ); }\r\n\t\t\t\t\t\treturn [ ...collection, ...result ];\r\n\t\t\t\t\t}, matches );\r\n\t\t\t}\r\n\t\t\tif ( matches.length ) {\r\n\t\t\t\treturn matches;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\t// Is directly mutated...\r\n\t\t\tif ( sources.includes( target )\r\n\t\t\t|| ( deepIntersect !== false && sources.some( source => source.contains( target ) ) ) ) {\r\n\t\t\t\tif ( !filter || filter( target ) ) {\r\n\t\t\t\t\treturn [ target ];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\t// -------------------------------\r\n\t// Search can be expensive...\r\n\t// Multiple listeners searching the same thing in the same list?\r\n\tif ( !sources.$$searchCache ) { sources.$$searchCache = new Map; }\r\n\treturn targets.reduce( ( matches, target ) => {\r\n\t\tlet _matches;\r\n\t\tif ( sources.$$searchCache.has( target ) ) {\r\n\t\t\t_matches = sources.$$searchCache.get( target );\r\n\t\t} else {\r\n\t\t\t_matches = match( sources, target ) || [];\r\n\t\t\tif ( _isObject( target ) ) {\r\n\t\t\t\tsources.$$searchCache.set( target, _matches );\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn matches.concat( _matches );\r\n\t}, [] );\r\n}\r\n", "\r\n/**\r\n * @imports\r\n */\r\nimport _each from '@webqit/util/obj/each.js';\r\n\r\n/**\r\n * ---------------------------\r\n * Binds callbacks to requestAnimationFrame()\r\n * to create a central \"read/write\" phases for Ctxt access.\r\n * ---------------------------\r\n */\r\n\t\t\t\r\nexport default window => class Reflow {\r\n\r\n\t/**\r\n\t * Starts the loop.\r\n\t *\r\n\t * @return this\r\n\t */\r\n\tconstructor( asyncDOM = true ) {\r\n\t\tObject.defineProperty( this, 'window', { value: window } );\r\n\t\tObject.defineProperty( this, 'readCallbacks', { value: new Set } );\r\n\t\tObject.defineProperty( this, 'writeCallbacks', { value: new Set } );\r\n\t\tthis.async = asyncDOM;\r\n\t\tif ( this.window.requestAnimationFrame ) {\r\n\t\t\tthis._run();\r\n\t\t} else {\r\n\t\t\tthis.async = false;\r\n\t\t}\r\n\t}\r\n\r\n\t_run() {\r\n\t\tthis.window.requestAnimationFrame( () => {\r\n\t\t\tthis.readCallbacks.forEach( callback => {\r\n\t\t\t\tif ( !callback() ) {\r\n\t\t\t\t\tthis.readCallbacks.delete( callback );\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\t\t\tthis.writeCallbacks.forEach( callback => {\r\n\t\t\t\tif ( !callback() ) {\r\n\t\t\t\t\tthis.writeCallbacks.delete( callback );\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\t\t\tthis._run();\r\n\t\t} );\r\n\t}\r\n\t\r\n\t/**\r\n\t * Binds a callback to the \"read\" phase.\r\n\t *\r\n\t * @param function \tcallback\r\n\t * @param bool\t\twithPromise\r\n\t *\r\n\t * @return void\r\n\t */\r\n\tonread( callback, withPromise = false ) {\r\n\t\tif ( withPromise ) {\r\n\t\t\treturn new Promise( ( resolve, reject ) => {\r\n\t\t\t\tif ( this.async === false ) {\r\n\t\t\t\t\tcallback( resolve, reject );\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.readCallbacks.add( () => {\r\n\t\t\t\t\t\tcallback( resolve, reject );\r\n\t\t\t\t\t} );\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\t\t}\r\n\t\tif ( this.async === false ) {\r\n\t\t\tcallback();\r\n\t\t} else {\r\n\t\t\tthis.readCallbacks.add( callback );\r\n\t\t}\r\n\t}\r\n\t\r\n\t/**\r\n\t * Binds a callback to the \"write\" phase.\r\n\t *\r\n\t * @param function \tcallback\r\n\t * @param bool\t\twithPromise\r\n\t *\r\n\t * @return void\r\n\t */\r\n\tonwrite( callback, withPromise = false ) {\r\n\t\tif ( withPromise ) {\r\n\t\t\treturn new Promise( ( resolve, reject ) => {\r\n\t\t\t\tif ( this.async === false ) {\r\n\t\t\t\t\tcallback( resolve, reject );\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.writeCallbacks.add( () => {\r\n\t\t\t\t\t\tcallback( resolve, reject );\r\n\t\t\t\t\t} );\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\t\t}\r\n\t\tif ( this.async === false ) {\r\n\t\t\tcallback();\r\n\t\t} else {\r\n\t\t\tthis.writeCallbacks.add( callback );\r\n\t\t}\r\n\t}\r\n\t\r\n\t/**\r\n\t * A special construct for Ctxt manipulations that span\r\n\t * one or more read/write cycles.\r\n\t *\r\n\t * @param function \tread\r\n\t * @param function \twrite\r\n\t * @param mixed\t\tprevTransaction\r\n\t *\r\n\t * @return void|mixed\r\n\t */\r\n\tcycle( read, write, prevTransaction ) {\r\n\t\tthis.onread( () => {\r\n\t\t\t// Record initial values\r\n\t\t\tvar readReturn = read( prevTransaction );\r\n\t\t\tif ( readReturn ) {\r\n\t\t\t\t// Call erite, the transation\r\n\t\t\t\tvar callWrite = ( readReturn ) => {\r\n\t\t\t\t\tthis.onwrite( () => {\r\n\t\t\t\t\t\tvar writeReturn = write( readReturn, prevTransaction );\r\n\t\t\t\t\t\tif ( writeReturn ) {\r\n\t\t\t\t\t\t\t// Repeat transaction\r\n\t\t\t\t\t\t\tvar repeatTransaction = ( writeReturn ) => {\r\n\t\t\t\t\t\t\t\tthis.cycle( read, write, writeReturn );\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t// ---------------------------------------\r\n\t\t\t\t\t\t\t// If \"write\" returns a promise, we wait until it is resolved\r\n\t\t\t\t\t\t\t// ---------------------------------------\r\n\t\t\t\t\t\t\tif ( writeReturn instanceof Promise ) {\r\n\t\t\t\t\t\t\t\twriteReturn.then( repeatTransaction );\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\trepeatTransaction();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t};\r\n\t\t\t\t// ---------------------------------------\r\n\t\t\t\t// If \"read\" returns a promise, we wait until it is resolved\r\n\t\t\t\t// ---------------------------------------\r\n\t\t\t\tif ( readReturn instanceof Promise ) {\r\n\t\t\t\t\treadReturn.then( callWrite );\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcallWrite();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} );\r\n\t}\r\n\r\n}", "\n/**\n * @imports\n */\nimport _isTypeObject from '../js/isTypeObject.js';\nimport _isUndefined from '../js/isUndefined.js';\nimport _isNull from '../js/isNull.js';\nimport _arrFrom from '../arr/from.js';\n\n/**\n * Retrieves the value at the given path.\n *\n * A return value of undefined is ambiguous, and can mean either that the\n * path does not exist, or that the path actually exists but with a value of undefined. If it is required to\n * know whether the path actually exists, pass an object as a third argument.\n * This object will have an \"exists\" key set to true/false.\n *\n * @param object \t\t\t\tctxt\n * @param array \t\t\t\tpath\n * @param object \t\t\t\ttrap\n * @param object \t\t\t\treciever\n *\n * @return mixed\n */\nexport default function(ctxt, path, trap = {}, reciever = {}) {\n\tpath = _arrFrom(path).slice();\n\tvar _ctxt = ctxt;\n\twhile(!_isUndefined(_ctxt) && !_isNull(_ctxt) && path.length) {\n\t\tvar _key = path.shift();\n\t\tif (!(trap.get ? trap.get(_ctxt, _key) : (_isTypeObject(_ctxt) ? _key in _ctxt : _ctxt[_key]))) {\n\t\t\treciever.exists = false;\n\t\t\treturn;\n\t\t}\n\t\t_ctxt = trap.get ? trap.get(_ctxt, _key) : _ctxt[_key];\n\t}\n\treciever.exists = true;\n\treturn _ctxt;\n};\n", "\n/**\n * @imports\n */\nimport _isTypeObject from '../js/isTypeObject.js';\nimport _isFunction from '../js/isFunction.js';\nimport _isNumeric from '../js/isNumeric.js';\nimport _isArray from '../js/isArray.js';\nimport _arrFrom from '../arr/from.js';\nimport _get from './get.js';\n\n/**\n * Sets a value to the given path.\n *\n * @param object \t\t\t\tobj\n * @param array \t\t\t\tpath\n * @param mixed \t\t\t\tval\n * @param object|function \t\tbuildTree\n * @param object \t\t\t\ttrap\n *\n * @return bool\n */\nexport default function(obj, path, val, buildTree = {}, trap = {}) {\n\tconst _set = (target, key, val) => {\n\t\tif (trap.set) {\n\t\t\treturn trap.set(target, key, val);\n\t\t} else {\n\t\t\tif (_isNumeric(path[i]) && _isArray(target)) {\n\t\t\t\ttarget.push(val);\n\t\t\t} else {\n\t\t\t\ttarget[key] = val;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t};\n\tpath = _arrFrom(path);\n\tvar target = obj;\n\tfor(var i = 0; i < path.length; i ++) {\n\t\tif (i < path.length - 1) {\n\t\t\tif (!target || (!_isTypeObject(target) && !_isFunction(target))) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tvar branch = _get(target, path[i], trap);\n\t\t\tif (!_isTypeObject(branch)) {\n\t\t\t\tif (trap.buildTree === false) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tbranch = _isFunction(trap.buildTree) ? trap.buildTree(i) : (_isNumeric(path[i + 1]) ? [] : {});\n\t\t\t\tvar branchSuccess = _set(target, path[i], branch);\n\t\t\t\tif (!branchSuccess) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\ttarget = branch;\n\t\t} else {\n\t\t\treturn _set(target, path[i], val);\n\t\t}\n\t}\n};\n", "\r\n/**\r\n * @imports\r\n */\r\nimport { _isNumeric } from '@webqit/util/js/index.js';\r\nimport { _set, _get, _merge } from '@webqit/util/obj/index.js';\r\n\r\n/**\r\n * DOM-ready listeners.\r\n * \r\n * @param Function\t    \t\tcallback\r\n * \r\n * @return void\r\n */\r\nexport function ready( callback ) {\r\n\tconst window = this;\r\n\tif ( window.document.readyState === 'complete' ) {\r\n\t\tcallback( window );\r\n\t} else {\r\n\t\tif ( !window.document.domReadyCallbacks ) {\r\n\t\t\twindow.document.domReadyCallbacks = [];\r\n\t\t\twindow.document.addEventListener( 'DOMContentLoaded', () => {\r\n\t\t\t\twindow.document.domReadyCallbacks.splice( 0 ).forEach( cb => cb( window ) );\r\n\t\t\t}, false );\r\n\t\t}\r\n\t\twindow.document.domReadyCallbacks.push( callback );\r\n\t}\r\n}\r\n\r\n/**\r\n * A wq's meta tag props reader.\r\n *  \r\n * @param String name\r\n * @param Bool\t readWrite\r\n * \r\n * @return Object\r\n */\r\nexport function meta( name, readWrite = false ) {\r\n    const window = this;\r\n    const metaInstance = { content: {} };\r\n    // Initialize reader\r\n    if ( !(metaInstance.el = window.document.querySelector( `meta[name=\"${ name }\"]` ) ) && readWrite ) {\r\n        metaInstance.el = window.document.createElement( 'meta' );\r\n        metaInstance.el.setAttribute( 'name', name );\r\n        window.document.head.append( metaInstance.el );\r\n    }\r\n    if ( metaInstance.el ) {\r\n        metaInstance.content = ( metaInstance.el.getAttribute( 'content' ) || '' ).split( ';' ).filter( v => v ).reduce( ( _metaVars, directive ) => {\r\n            const directiveSplit = directive.split( '=' ).map( d => d.trim() );\r\n            _set( _metaVars, directiveSplit[ 0 ].split( '.' ), directiveSplit[ 1 ] === 'true' \r\n                ? true : (directiveSplit[ 1 ] === 'false' ? false : (\r\n                    _isNumeric( directiveSplit[ 1 ] ) ? parseInt( directiveSplit[ 1 ] ) : directiveSplit[ 1 ]\r\n                ) )\r\n            );\r\n            return _metaVars;\r\n        }, {} );\r\n    }\r\n    // Read prop...\r\n    metaInstance.get = function( prop ) { return JSON.parse( JSON.stringify( _get( this.content, prop.split( '.' ) ) ) ); }\r\n    // Copy...\r\n    metaInstance.copy = function() {\r\n\t\treturn JSON.parse( JSON.stringify( this.content ) );\r\n    };\r\n\t// Copy with defaults...\r\n    metaInstance.copyWithDefaults = function( ...defaults ) {\r\n\t\tif ( defaults.length ) return _merge( true, {}, ...defaults.reverse().concat( this.content ) );\r\n\t\treturn this.copy();\r\n    };\r\n    return metaInstance;\r\n}", "\r\n/**\r\n * @imports\r\n */\r\nimport polyfill from './polyfills.js';\r\nimport Mutations from './Mutations.js';\r\nimport createReflowClass from './Reflow.js';\r\nimport { ready, meta } from './Query.js';\r\n\r\nexport default function() {\r\n    const window = this;\r\n    if ( !window.wq ) window.wq = {};\r\n    if ( window.wq.dom ) return window.wq.dom;\r\n    // ------\r\n    polyfill.call( window );\r\n    const Reflow = createReflowClass( window );\r\n    // ------\r\n    window.wq.dom = new Mutations( window );\r\n    window.wq.dom.reflow = new Reflow;\r\n    window.wq.dom.ready = ready.bind( window );\r\n    window.wq.dom.meta = meta.bind( window );\r\n    // ------\r\n    return window.wq.dom;\r\n}", "\r\n/**\r\n * @imports\r\n */\r\nimport init from './index.js';\r\n\r\ninit.call( window );"],
  "mappings": "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",
  "names": ["polyfills_default", "CSS_escape", "Node_isConnected", "Element_matches", "window", "str", "s", "matches", "i", "isObject_default", "val", "isArray_default", "val", "isTypeFunction_default", "val", "isNull_default", "val", "isUndefined_default", "val", "isTypeObject_default", "val", "isTypeFunction_default", "isEmpty_default", "val", "isNull_default", "isUndefined_default", "isTypeObject_default", "isFunction_default", "val", "isTypeFunction_default", "isNumber_default", "val", "isNumeric_default", "val", "isNumber_default", "isString_default", "val", "isTypeArray_default", "val", "isString_default", "isUndefined_default", "pushUnique_default", "arr", "items", "itm", "getPrototypeChain_default", "obj", "until", "isArray_default", "prototypalChain", "getAllPropertyNames_default", "obj", "until", "keysAll", "getPrototypeChain_default", "pushUnique_default", "mergeCallback", "objs", "callback", "deepProps", "isReplace", "withSymbols", "depth", "obj1", "isNumeric_default", "obj2", "i", "isTypeObject_default", "isFunction_default", "getAllPropertyNames_default", "key", "valAtObj1", "valAtObj2", "isArray_default", "isObject_default", "merge_default", "objs", "mergeCallback", "k", "obj1", "obj2", "from_default", "val", "castObject", "isArray_default", "isObject_default", "isEmpty_default", "isTypeArray_default", "MutationInterceptorsCache", "x", "Mutations", "window", "context", "filter", "callback", "resolveArgs", "mo", "records", "record", "params", "selectors", "getRecord", "target", "selector", "isString_default", "node", "isObject_default", "isConnected", "addedNodes", "removedNodes", "emit", "connect", "controller", "document", "Element", "intercept", "contexts", "index", "traps", "trap", "originalApis", "apiName", "Interface", "args", "exec", "outgoingNodes", "incomingNodes", "apiNameFinal", "tempNodeName", "temp", "value", "originalApi", "type", "isFunction_default", "from_default", "matches", "prop", "isExit", "intersectNodes", "targets", "sources", "deepIntersect", "match", "source", "collection", "result", "_matches", "Reflow_default", "window", "asyncDOM", "callback", "withPromise", "resolve", "reject", "read", "write", "prevTransaction", "readReturn", "callWrite", "writeReturn", "repeatTransaction", "get_default", "ctxt", "path", "trap", "reciever", "from_default", "_ctxt", "isUndefined_default", "isNull_default", "_key", "isTypeObject_default", "set_default", "obj", "path", "val", "buildTree", "trap", "_set", "target", "key", "isNumeric_default", "isArray_default", "from_default", "isTypeObject_default", "isFunction_default", "branch", "get_default", "branchSuccess", "ready", "callback", "window", "cb", "meta", "name", "readWrite", "metaInstance", "v", "_metaVars", "directive", "directiveSplit", "d", "set_default", "isNumeric_default", "prop", "get_default", "defaults", "merge_default", "src_default", "window", "polyfills_default", "Reflow", "Reflow_default", "Mutations", "ready", "meta", "src_default"]
}
